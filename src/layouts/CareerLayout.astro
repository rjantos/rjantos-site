---
import BaseLayout from "@/layouts/BaseLayout.astro";
const { frontmatter } = Astro.props;
// Fundations
import Text from "@/components/fundations/elements/Text.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
import Button from "@/components/fundations/elements/Button.astro";
---
<BaseLayout hideBigLogo={true}>
  <section>
    <Wrapper variant="standard" class="py-24 lg:pt-48">
      <div class="max-w-4xl mx-auto">
        <div class="mb-8">
          <Text tag="h1" variant="textLG" class="font-medium text-base-900">
            {frontmatter.title}
          </Text>
          <div class="flex flex-wrap items-center gap-4 mt-4">
            <Text tag="span" variant="textSM" class="text-base-600">
              {frontmatter.location}
            </Text>
            <Text tag="span" variant="textSM" class="text-base-600">
              {frontmatter.type}
            </Text>
            <span
              class="text-base-600 bg-green-100 text-green-800 px-2 py-1 rounded text-sm"
            >
              {frontmatter.remote}
            </span>
            <Text tag="span" variant="textSM" class="text-base-600">
              {frontmatter.salary}
            </Text>
          </div>
          <Text tag="p" variant="textSM" class="mt-2 text-base-500">
            Posted on {
              new Date(frontmatter.postedDate).toLocaleDateString("en-US", {
                year: "numeric",
                month: "long",
                day: "numeric",
              })
            }
          </Text>
        </div>
        <div class="grid lg:grid-cols-3 gap-12">
          <div class="lg:col-span-2">
            <div class="mb-8">
              <Text
                tag="h2"
                variant="textBase"
                class="font-medium text-base-900 mb-4"
              >
                Job Description
              </Text>
              <Wrapper variant="prose">
                <p>{frontmatter.description}</p>
              </Wrapper>
            </div>
            {
              frontmatter.responsibilities &&
                frontmatter.responsibilities.length > 0 && (
                  <div class="mb-8">
                    <Text
                      tag="h2"
                      variant="textBase"
                      class="font-medium text-base-900 mb-4"
                    >
                      Responsibilities
                    </Text>
                    <ul class="list-disc list-inside space-y-2 text-base-700">
                      {frontmatter.responsibilities.map((item) => (
                        <li>{item}</li>
                      ))}
                    </ul>
                  </div>
                )
            }
            {
              frontmatter.requirements &&
                frontmatter.requirements.length > 0 && (
                  <div class="mb-8">
                    <Text
                      tag="h2"
                      variant="textBase"
                      class="font-medium text-base-900 mb-4"
                    >
                      Requirements
                    </Text>
                    <ul class="list-disc list-inside space-y-2 text-base-700">
                      {frontmatter.requirements.map((item) => (
                        <li>{item}</li>
                      ))}
                    </ul>
                  </div>
                )
            }
            {
              frontmatter.benefits && frontmatter.benefits.length > 0 && (
                <div class="mb-8">
                  <Text
                    tag="h2"
                    variant="textBase"
                    class="font-medium text-base-900 mb-4"
                  >
                    Benefits
                  </Text>
                  <ul class="list-disc list-inside space-y-2 text-base-700">
                    {frontmatter.benefits.map((item) => (
                      <li>{item}</li>
                    ))}
                  </ul>
                </div>
              )
            }
            <slot />
          </div>
          <div class="lg:col-span-1">
            <div class="bg-base-50 p-6 rounded-lg">
              <Text
                tag="h3"
                variant="textBase"
                class="font-medium text-base-900 mb-4"
              >
                Apply for this position
              </Text>
              <div class="space-y-3">
                <Button
                  variant="primary"
                  href={frontmatter.applyUrl}
                  target="_blank"
                  class="w-full"
                >
                  Apply Online
                </Button>
                <Button
                  variant="secondary"
                  href={`mailto:${frontmatter.applyEmail}?subject=Application for ${frontmatter.title}`}
                  class="w-full"
                >
                  Apply via Email
                </Button>
              </div>
              <div class="mt-6">
                <Text
                  tag="h4"
                  variant="textSM"
                  class="font-medium text-base-900 mb-2"
                >
                  Tags
                </Text>
                <div class="flex flex-wrap gap-2">
                  {
                    frontmatter.tags.map((tag) => (
                      <span class="bg-base-200 text-base-700 px-2 py-1 rounded text-xs">
                        {tag}
                      </span>
                    ))
                  }
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </Wrapper>
  </section>
</BaseLayout>
