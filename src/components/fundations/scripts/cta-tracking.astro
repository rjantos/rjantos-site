<script>
  document.addEventListener("click", function (e) {
    var target = e.target.closest("[data-track]");
    if (!target) return;

    var type = target.getAttribute("data-track");
    var location = window.location.pathname || "/";
    var href = target.getAttribute("href");

    var eventName = null;
    if (type === "book-call") eventName = "book_call_click";
    if (type === "email") eventName = "email_click";

    if (!eventName) return;

    window.dataLayer = window.dataLayer || [];
    window.dataLayer.push({
      event: "cta_click",
      cta_type: type,
      cta_location: location,
      cta_href: href || "",
    });

    if (href) {
      e.preventDefault();
      window.location.href = href;
    }
  });
</script>
