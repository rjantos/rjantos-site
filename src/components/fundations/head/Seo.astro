---
import { AstroSeo } from "@astrolib/seo";

const {
  title = "Rudi Jantos â€” B2B Analytics & Attribution",
  description = "Strategic marketing partner helping B2B teams fix tracking, attribution, and decision-making across ads, analytics, and CRM.",
  image = "/og-default.svg",
} = Astro.props;

// Build canonical without querystring/hash.
// Prefer configured `site` from `astro.config.*` so output is stable in preview builds.
const canonical = new URL(
  Astro.url.pathname,
  Astro.site ?? Astro.url.origin
).href;
const imageUrl = new URL(image, Astro.site ?? Astro.url.origin).href;
---

<AstroSeo
  title={title}
  description={description}
  canonical={canonical}
  openGraph={{
    url: canonical,
    title,
    description,
    site_name: "Rudi Jantos",
    type: "website",
    images: [
      {
        url: imageUrl,
        width: 1200,
        height: 630,
        alt: title,
      },
    ],
  }}
/>

<!-- Fill in a few social tags explicitly (safe even if AstroSeo changes) -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content={title} />
<meta name="twitter:description" content={description} />
<meta name="twitter:image" content={imageUrl} />
