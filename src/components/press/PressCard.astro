---
// Fundations
import Text from "@/components/fundations/elements/Text.astro";
import Button from "@/components/fundations/elements/Button.astro";
// Content
const { title, excerpt, date, category, url } = {
  url: "/press-releases/" + Astro.props.post.slug,
  title: Astro.props.post.data.title,
  excerpt: Astro.props.post.data.excerpt,
  date: Astro.props.post.data.pubDate.toLocaleDateString("en-US", {
    year: "numeric",
    month: "short",
    day: "numeric",
  }),
  category: Astro.props.post.data.category,
};
---

<article
  class="relative flex flex-col group border border-base-200 rounded-lg p-6 hover:shadow-md transition-shadow"
>
  <a
    href={url}
    title={`Read press release: ${title}`}
    aria-label={`Read press release: ${title}`}
    class="absolute inset-0 z-10"></a>

  <div class="flex items-start justify-between mb-4">
    <div class="flex-1">
      <Text tag="h3" variant="textSm" class="font-semibold text-base-900 mb-2">
        {title}
      </Text>
      <div class="flex items-center gap-4 text-xs text-base-600 mb-3">
        <span>{date}</span>
        <span class="bg-accent-100 text-accent-800 px-2 py-1 rounded">
          {category}
        </span>
      </div>
    </div>
  </div>

  <Text
    tag="p"
    variant="textXs"
    class="text-base-700 leading-relaxed mb-4 line-clamp-3"
  >
    {excerpt}
  </Text>

  <div class="mt-auto">
    <Button variant="muted" size="xs" class="pointer-events-none">
      Read More â†’
    </Button>
  </div>
</article>
